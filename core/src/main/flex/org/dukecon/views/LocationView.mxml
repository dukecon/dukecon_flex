<?xml version="1.0"?>
<!--
  Created by christoferdutz on 06.07.15.
-->
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009"
        xmlns:s="library://ns.adobe.com/flex/spark"
        xmlns:u="org.dukecon.utils.*"
        title="{resourceManager.getString('dukecon', 'location.title')}">

    <fx:Metadata>
        [ResourceBundle("dukecon")]
    </fx:Metadata>

    <fx:Script>
        <![CDATA[
        import org.dukecon.controller.LocationController;

        [Bindable]
        protected var location:String;

        [Bindable]
        protected var locationIcon:Class;

        [Bindable("dataChange")]
        override public function get data():Object {
            return super.data;
        }

        override public function set data(value:Object):void {
            super.data = value;
            location = String(value);
            locationIcon = LocationController.instance.getIconForLocation(location);
        }
        ]]>
    </fx:Script>

    <s:navigationContent>
        <s:Button label="&lt;" click="{navigator.popView()}"/>
    </s:navigationContent>

    <s:Scroller width="100%" height="100%" horizontalScrollPolicy="off">
        <s:VGroup width="100%" padding="10" gap="30">
            <s:Group width="100%">
                <s:Rect top="4" left="4" right="4" height="150" radiusX="10" radiusY="10">
                    <s:fill>
                        <s:SolidColor color="0x1AA3B1"/>
                    </s:fill>
                </s:Rect>

                <s:Label text="{location}" top="22" left="20" width="440" styleName="title"/>

                <s:Rect top="20" right="20" width="120" height="120">
                    <s:fill>
                        <s:SolidColor color="0xffffff"/>
                    </s:fill>
                    <s:stroke>
                        <s:SolidColorStroke color="black"/>
                    </s:stroke>
                </s:Rect>

                <u:VectorImage source="{locationIcon}" top="22" right="22" width="116" height="116"/>
            </s:Group>
        </s:VGroup>
    </s:Scroller>

</s:View>
